### 概要
Kokone MusicはElectron-viteを使用して制作された、ローカルの音楽ファイルを再生できる音楽プレーヤーアプリケーションです。

### 機能
音楽再生: ローカルオーディオファイルを再生
対応フォーマット: `.mp3`
再生コントロール:
 - 再生 / 一時停止
 - 曲送り / 曲戻し
再生モード:
 - リスト順再生
 - リピート再生
 - 曲が終わったら停止
 - シャッフル再生
音量の正規化: オーディオファイル毎に音量を調整し、同じ音量で聞こえるようにします

### 開発
#### インストール
```bash
git clone https://github.com/coiluck/kokone-music.git
npm install
```

#### プレビュー
開発サーバーを起動し、プレビュー画面を開きます。
```bash
npm run dev
```

#### ビルド
アプリケーションをビルドします。
```bash
# 全プラットフォーム向け
npm run build

# Windows向け
npm run build:win

# macOS向け
npm run build:mac

# Linux向け
npm run build:linux
```

### FAQ
 - Q アプリはどこに保存されますか
 - A Windowsの場合は通常、`C:/Users/${username}/AppData/Local/Programs/kokone-music`に保存されます。
---
 - Q 再生履歴はどこに保存されますか
 - A Windowsの場合は通常、`C:/Users/${username}/AppData/Roaming/kokone-music/history.json`に保存されます。
---
 - Q 再生履歴は消去できないのですか
 - A 30日経過すると自動で削除されます。ユーザー側がアプリ内から消すことはできません。
---
 - Q おすすめはどのようにして選ばれるのですか
 - A 曲ごとの再生回数、アーティストごとの再生回数、タグごとの再生回数、追加した日時の4つの指標を用いて選出しています。変更したい場合は`./src/renderer/src/home.js`のsetUpReccomended関数で宣言されているweight内の数字を変更してください。
---
 - Q おすすめが表示されません
 - A 保存している曲が5曲以下の場合、あるいは30日間の再生回数が5回以下の場合は、おすすめを表示するためのデータが不足しているため表示されません。
---
 - Q タグ機能が他の再生プレイヤーで確認できません
 - A タグ機能は独自に追加したものであり、`.mp3`ファイルのID3タグの中に書き込んでいるわけではありません。曲データと共に`C:/Users/${username}/AppData/Roaming/kokone-music/track.json`に保存しているだけであるため、他のアプリではご使用いただけません。
---
 - Q タグは「Tag1,Tag2」のようにカンマだけを入れるのですか。それとも「Tag1, Tag2」のようにカンマに加えて半角スペースも必要ですか
 - A どちらでも正しく処理されるため問題ありません。区切るためのカンマさえ半角になっていれば、全角スペースがあっても問題ありません。
---
 - Q データフォルダに不要に見えるファイル・フォルダがあります
 - A それらはelectronが自動で生成したファイルであり、多くの場合、実際に不要です。しかしアプリの起動時に再生成されるため、削除しても徒労に終わります。
---
 - Q データフォルダの中を触ったら音楽再生時にエラーが出るようになりました
 - A 音声ファイルとその音声ファイルについての情報を保持しているjsonファイルで整合性が取れなくなっている可能性があります。直らない場合は一度曲を削除した後、再度「add music」のタブから追加してください。